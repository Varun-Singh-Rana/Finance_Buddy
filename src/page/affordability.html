<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Finlytics | Affordability</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="../css/affordability.css" />
    <link rel="stylesheet" href="../css/window-controls.css" />
  </head>
  <body>
    <div class="titlebar" role="banner">
      <div class="titlebar-drag" aria-hidden="true"></div>
      <div class="window-controls" role="toolbar" aria-label="Window controls">
        <button
          type="button"
          class="window-control-btn"
          data-window-control="minimize"
          aria-label="Minimize window"
        >
          <i class="fas fa-window-minimize" aria-hidden="true"></i>
        </button>
        <button
          type="button"
          class="window-control-btn"
          data-window-control="maximize"
          aria-label="Maximize window"
        >
          <i class="fas fa-window-maximize" aria-hidden="true"></i>
        </button>
        <button
          type="button"
          class="window-control-btn close"
          data-window-control="close"
          aria-label="Close window"
        >
          <i class="fas fa-xmark" aria-hidden="true"></i>
        </button>
      </div>
    </div>
    <div class="app-container dark">
      <aside class="sidebar">
        <div class="brand">
          <div class="brand-icon">F</div>
          <div class="brand-name">Finlytics</div>
        </div>
        <nav class="nav-list">
          <a class="nav-link" href="dash.html">
            <i class="fas fa-th-large"></i>
            <span>Dashboard</span>
          </a>
          <a class="nav-link" href="transaction.html">
            <i class="fas fa-credit-card"></i>
            <span>Transactions</span>
          </a>
          <a class="nav-link" href="subscription.html">
            <i class="fas fa-calendar-alt"></i>
            <span>Subscriptions</span>
          </a>
          <a class="nav-link" href="saving.html">
            <i class="fas fa-lightbulb"></i>
            <span>Savings Advisor</span>
          </a>
          <a class="nav-link active" href="affordability.html">
            <i class="fas fa-wallet"></i>
            <span>Affordability</span>
          </a>
          <a class="nav-link" href="forecast.html">
            <i class="fas fa-chart-line"></i>
            <span>Forecast</span>
          </a>
          <a class="nav-link" href="report.html ">
            <i class="fas fa-file-alt"></i>
            <span>Reports</span>
          </a>
        </nav>
      </aside>

      <main class="main">
        <header class="main-header">
          <div class="page-title">
            <h1>Affordability</h1>
            <p id="affordability-greeting">Welcome back!</p>
          </div>
          <div class="header-actions">
            <div class="avatar">V</div>
          </div>
        </header>
        <section class="page-content">
          <p class="page-intro">
            Check if you can afford a purchase based on your financial health
          </p>
          <div class="affordability-grid">
            <section class="panel purchase-panel">
              <header class="panel-header">
                <div>
                  <h2>Purchase Details</h2>
                  <p class="panel-subtitle">
                    Enter the amount and choose a plan to see if it fits your
                    finances.
                  </p>
                </div>
                <span class="panel-icon">
                  <i class="fas fa-wallet"></i>
                </span>
              </header>
              <form id="affordability-form" class="purchase-form">
                <div class="input-group">
                  <label for="purchase-amount">Purchase Amount (₹)</label>
                  <div class="input-field">
                    <span class="prefix">₹</span>
                    <input
                      type="number"
                      id="purchase-amount"
                      min="0"
                      step="1000"
                      placeholder="Enter amount"
                      required
                    />
                  </div>
                  <small class="hint"
                    >We recommend keeping big-ticket purchases within your
                    available savings.</small
                  >
                </div>
                <div class="input-group">
                  <label for="payment-plan">Payment Plan</label>
                  <div class="select-field">
                    <select id="payment-plan">
                      <option value="pay-in-full">
                        Pay in Full (One-time)
                      </option>
                      <option value="emi-3">3-Month EMI</option>
                      <option value="emi-6">6-Month EMI</option>
                      <option value="emi-12">12-Month EMI</option>
                      <option value="emi-24">24-Month EMI</option>
                    </select>
                    <i class="fas fa-chevron-down"></i>
                  </div>
                  <small class="hint" id="plan-description"
                    >Uses your current savings for a one-time payment.</small
                  >
                </div>
                <button type="submit" class="btn-primary">
                  Check Affordability
                </button>
              </form>
              <div id="form-feedback" class="form-feedback hidden">
                <i class="fas fa-circle-info"></i>
                <p></p>
              </div>
              <div
                id="affordability-result"
                class="affordability-result hidden"
              >
                <div class="result-banner">
                  <span id="result-status" class="status-chip">Affordable</span>
                  <p id="result-text">
                    Enter a purchase amount to get started.
                  </p>
                </div>
                <div class="result-grid">
                  <div class="result-card">
                    <span class="result-label">Monthly Payment</span>
                    <span id="result-monthly-payment" class="result-value"
                      >₹0</span
                    >
                    <span id="result-monthly-detail" class="result-detail"
                      >Based on your plan</span
                    >
                  </div>
                  <div class="result-card">
                    <span class="result-label">Plan Duration</span>
                    <span id="result-plan-length" class="result-value">-</span>
                    <span id="result-total-cost" class="result-detail"
                      >Total cost: ₹0</span
                    >
                  </div>
                  <div class="result-card">
                    <span class="result-label">Savings Impact</span>
                    <span id="result-savings-impact" class="result-value"
                      >-</span
                    >
                    <span id="result-impact-detail" class="result-detail"
                      >-</span
                    >
                  </div>
                  <div class="result-card">
                    <span class="result-label">Recommendation</span>
                    <span id="result-recommendation" class="result-value"
                      >-</span
                    >
                    <span id="result-extra-tip" class="result-detail">-</span>
                  </div>
                </div>
              </div>
            </section>
            <section class="panel overview-panel">
              <header class="panel-header">
                <div>
                  <h2>Your Financial Overview</h2>
                  <p id="overview-last-updated" class="panel-subtitle">
                    Last updated just now
                  </p>
                </div>
                <span class="panel-icon accent">
                  <i class="fas fa-chart-pie"></i>
                </span>
              </header>
              <div class="overview-summary">
                <div class="overview-row">
                  <div>
                    <span class="overview-label">Monthly Income</span>
                    <span class="overview-hint"
                      >Salary + recurring inflows</span
                    >
                  </div>
                  <span id="overview-income" class="overview-value positive"
                    >₹0</span
                  >
                </div>
                <div class="overview-row">
                  <div>
                    <span class="overview-label">Monthly Expenses</span>
                    <span class="overview-hint"
                      >Recorded expenses and recurring costs</span
                    >
                  </div>
                  <span id="overview-expenses" class="overview-value negative"
                    >₹0</span
                  >
                </div>
                <div class="overview-row">
                  <div>
                    <span class="overview-label">Recurring Subscriptions</span>
                    <span class="overview-hint"
                      >Monthly cost of all active plans</span
                    >
                  </div>
                  <span
                    id="overview-subscriptions"
                    class="overview-value negative"
                    >₹0</span
                  >
                </div>
                <div class="overview-row">
                  <div>
                    <span class="overview-label">Monthly Savings</span>
                    <span class="overview-hint">Income minus expenses</span>
                  </div>
                  <span id="overview-savings" class="overview-value info"
                    >₹0</span
                  >
                </div>
              </div>
              <div class="available-card">
                <div>
                  <span class="overview-label">Available for Purchase</span>
                  <span class="overview-hint"
                    >Safe amount you can allocate right now</span
                  >
                </div>
                <span
                  id="available-for-purchase"
                  class="overview-value positive"
                  >₹0</span
                >
              </div>
              <div class="progress-insight">
                <div class="insight-header">
                  <span class="overview-label">Safe Monthly Allocation</span>
                  <span id="safe-monthly-allocation" class="overview-value info"
                    >₹0</span
                  >
                </div>
                <p class="overview-hint">
                  We recommend using at most 60% of your monthly savings for
                  EMIs.
                </p>
                <div class="progress-bar">
                  <div
                    id="savings-progress"
                    class="progress-fill"
                    style="width: 0%"
                  ></div>
                </div>
                <span id="savings-progress-label" class="progress-label"
                  >No plan selected yet.</span
                >
              </div>
            </section>
          </div>
        </section>
      </main>
    </div>
    <script src="../js/window-controls.js"></script>
    <script src="../js/affordability.js"></script>
  </body>
</html>
